(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-baf53568"],{7324:function(e,t,n){},"79e7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-view",{attrs:{title:e.activatedTheme?e.activatedTheme.name:"无",affix:"",subTitle:"当前启用"}},[n("template",{slot:"extra"},[n("a-button",{attrs:{loading:e.list.loading,icon:"reload"},on:{click:e.handleRefreshThemesCache}},[e._v(" 刷新 ")]),n("a-button",{attrs:{icon:"plus",type:"primary"},on:{click:function(t){e.installModal.visible=!0}}},[e._v(" 安装 ")])],1),n("a-row",{attrs:{gutter:12,align:"middle",type:"flex"}},[n("a-col",{attrs:{span:24}},[n("a-list",{attrs:{dataSource:e.sortedThemes,grid:{gutter:12,xs:1,sm:1,md:2,lg:4,xl:4,xxl:4},loading:e.list.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t,i){return n("a-list-item",{key:i},[n("a-card",{attrs:{bodyStyle:{padding:0},title:t.name,hoverable:""}},[n("div",{staticClass:"theme-screenshot"},[n("img",{attrs:{alt:t.name,src:t.screenshots||"/images/placeholder.jpg",loading:"lazy"}})]),n("template",{staticClass:"ant-card-actions",slot:"actions"},[t.activated?n("div",[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{theme:"twoTone",type:"unlock"}}),e._v(" 已启用 ")],1):n("div",{on:{click:function(n){return e.handleActiveTheme(t)}}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"lock"}}),e._v(" 启用 ")],1),n("div",{on:{click:function(n){return e.handleOpenThemeSettingDrawer(t)}}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"setting"}}),e._v(" 设置 ")],1),n("a-dropdown",{attrs:{trigger:["click"],placement:"topCenter"}},[n("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"ellipsis"}}),e._v(" 更多 ")],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:1,attrs:{disabled:t.activated},on:{click:function(n){return e.handleOpenThemeDeleteModal(t)}}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"delete"}}),e._v(" 删除 ")],1),t.repo?n("a-menu-item",{key:2,on:{click:function(n){return e.handleConfirmRemoteUpdate(t)}}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"cloud"}}),e._v(" 在线更新 ")],1):e._e(),n("a-menu-item",{key:3,on:{click:function(n){return e.handleOpenLocalUpdateModal(t)}}},[n("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"file"}}),e._v(" 从主题包更新 ")],1)],1)],1)],1)],2)],1)}}])})],1)],1),n("ThemeSettingDrawer",{attrs:{theme:e.themeSettingDrawer.selected},on:{close:e.onThemeSettingsDrawerClose},model:{value:e.themeSettingDrawer.visible,callback:function(t){e.$set(e.themeSettingDrawer,"visible",t)},expression:"themeSettingDrawer.visible"}}),n("a-modal",{attrs:{afterClose:e.onThemeInstallModalClose,bodyStyle:{padding:"0 24px 24px"},footer:null,destroyOnClose:"",title:"安装主题"},model:{value:e.installModal.visible,callback:function(t){e.$set(e.installModal,"visible",t)},expression:"installModal.visible"}},[n("div",{staticClass:"custom-tab-wrapper"},[n("a-tabs",{attrs:{animated:{inkBar:!0,tabPane:!1}}},[n("a-tab-pane",{key:"1",attrs:{tab:"本地上传"}},[n("FilePondUpload",{ref:"upload",attrs:{accepts:["application/x-zip","application/x-zip-compressed","application/zip"],uploadHandler:e.installModal.local.uploadHandler,label:"点击选择主题包或将主题包拖拽到此处<br>仅支持 ZIP 格式的文件",name:"file"},on:{success:e.handleUploadSucceed}}),n("a-alert",{attrs:{closable:"",type:"info"}},[n("template",{slot:"message"},[e._v(" 更多主题请访问： "),n("a",{attrs:{href:"https://halo.run/themes.html",target:"_blank"}},[e._v("https://halo.run/themes")])])],2)],1),n("a-tab-pane",{key:"2",attrs:{tab:"远程下载"}},[n("a-form-model",{ref:"remoteInstallForm",attrs:{model:e.installModal.remote,rules:e.installModal.remote.rules,layout:"vertical"}},[n("a-form-model-item",{attrs:{help:"* 支持 Git 仓库地址，ZIP 链接。",label:"远程地址：",prop:"url"}},[n("a-input",{model:{value:e.installModal.remote.url,callback:function(t){e.$set(e.installModal.remote,"url",t)},expression:"installModal.remote.url"}})],1),n("a-form-model-item",[n("ReactiveButton",{attrs:{errored:e.installModal.remote.fetchErrored,loading:e.installModal.remote.fetching,erroredText:"下载失败",loadedText:"下载成功",text:"下载",type:"primary"},on:{callback:e.handleRemoteFetchCallback,click:e.handleRemoteFetching}})],1)],1),n("a-alert",{attrs:{closable:"",type:"info"}},[n("template",{slot:"message"},[e._v(" 目前仅支持远程 Git 仓库和 ZIP 下载链接。更多主题请访问： "),n("a",{attrs:{href:"https://halo.run/themes.html",target:"_blank"}},[e._v("https://halo.run/themes")])])],2)],1)],1)],1)]),n("a-modal",{attrs:{afterClose:e.onThemeInstallModalClose,footer:null,destroyOnClose:"",title:"更新主题"},model:{value:e.localUpdateModel.visible,callback:function(t){e.$set(e.localUpdateModel,"visible",t)},expression:"localUpdateModel.visible"}},[n("FilePondUpload",{ref:"updateByFile",attrs:{accepts:["application/x-zip","application/x-zip-compressed","application/zip"],field:e.localUpdateModel.selected.id,multiple:!1,uploadHandler:e.localUpdateModel.uploadHandler,label:"点击选择主题更新包或将主题更新包拖拽到此处<br>仅支持 ZIP 格式的文件",name:"file"},on:{success:e.handleUploadSucceed}})],1),n("a-modal",{attrs:{afterClose:e.onThemeDeleteModalClose,closable:!1,width:416,destroyOnClose:"",title:"提示"},model:{value:e.themeDeleteModal.visible,callback:function(t){e.$set(e.themeDeleteModal,"visible",t)},expression:"themeDeleteModal.visible"}},[n("template",{slot:"footer"},[n("a-button",{on:{click:function(t){e.themeDeleteModal.visible=!1}}},[e._v(" 取消 ")]),n("ReactiveButton",{attrs:{errored:e.themeDeleteModal.deleteErrored,loading:e.themeDeleteModal.deleting,erroredText:"删除失败",loadedText:"删除成功",text:"确定"},on:{callback:e.handleDeleteThemeCallback,click:function(t){return e.handleDeleteTheme(e.themeDeleteModal.selected.id,e.themeDeleteModal.deleteSettings)}}})],1),n("p",[e._v("确定删除【"+e._s(e.themeDeleteModal.selected.name)+"】主题？")]),n("a-checkbox",{model:{value:e.themeDeleteModal.deleteSettings,callback:function(t){e.$set(e.themeDeleteModal,"deleteSettings",t)},expression:"themeDeleteModal.deleteSettings"}},[e._v(" 同时删除主题配置 ")])],2)],2)},a=[],r=(n("cb4c"),n("2116"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{afterVisibleChange:e.handleAfterVisibleChanged,title:e.theme.name+" 主题设置",visible:e.visible,closable:"",destroyOnClose:"",placement:"right",width:"100%"},on:{close:e.onClose}},[n("a-row",{attrs:{gutter:12,type:"flex"}},[e.viewMode?e._e():n("a-col",{attrs:{lg:12,md:12,sm:24,xl:12,xs:24}},[n("a-card",{attrs:{bordered:!1}},[n("img",{attrs:{slot:"cover",alt:e.theme.name,src:e.theme.screenshots},slot:"cover"}),n("a-card-meta",{attrs:{description:e.theme.description}},[n("template",{slot:"title"},[n("a",{attrs:{href:e.author.website,target:"_blank"}},[e._v(e._s(e.author.name))])]),e.theme.logo?n("a-avatar",{attrs:{slot:"avatar",src:e.theme.logo,size:"large"},slot:"avatar"}):n("a-avatar",{attrs:{slot:"avatar",size:"large"},slot:"avatar"},[e._v(e._s(e.author.name))])],2)],1)],1),n("a-col",{staticStyle:{"padding-bottom":"50px"},attrs:{lg:e.formColValue,md:e.formColValue,sm:24,xl:e.formColValue,xs:24}},[n("a-spin",{attrs:{spinning:e.settingLoading}},[e.themeConfigurations.length>0?n("div",{staticClass:"card-container"},[n("a-tabs",{attrs:{defaultActiveKey:"0",type:"card"}},e._l(e.themeConfigurations,(function(t,i){return n("a-tab-pane",{key:i.toString(),attrs:{tab:t.label}},[n("a-form",{attrs:{wrapperCol:e.wrapperCol,layout:"vertical"}},e._l(t.items,(function(t,i){return n("a-form-item",{key:i,attrs:{label:t.label+"："}},[t.description&&""!==t.description?n("p",{attrs:{slot:"help"},domProps:{innerHTML:e._s(t.description)},slot:"help"}):e._e(),"TEXT"===t.type?n("a-input",{attrs:{defaultValue:t.defaultValue,placeholder:t.placeholder},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}}):"TEXTAREA"===t.type?n("a-input",{attrs:{autoSize:{minRows:5},placeholder:t.placeholder,type:"textarea"},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}}):"RADIO"===t.type?n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["radio-group"],expression:"['radio-group']"}],attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}},e._l(t.options,(function(t,i){return n("a-radio",{key:i,attrs:{value:t.value}},[e._v(e._s(t.label)+" ")])})),1):"SELECT"===t.type?n("a-select",{attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}},e._l(t.options,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label)+" ")])})),1):"COLOR"===t.type?n("verte",{staticStyle:{display:"inline-block",height:"24px"},attrs:{defaultValue:t.defaultValue,model:"hex",picker:"square"},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}}):"ATTACHMENT"===t.type?n("a-input",{attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}},[n("a",{attrs:{slot:"addonAfter",href:"javascript:void(0);"},on:{click:function(n){return e.handleShowSelectAttachment(t.name)}},slot:"addonAfter"},[n("a-icon",{attrs:{type:"picture"}})],1)]):"NUMBER"===t.type?n("a-input-number",{staticStyle:{width:"100%"},attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}}):"SWITCH"===t.type?n("a-switch",{attrs:{defaultChecked:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}}):n("a-input",{attrs:{defaultValue:t.defaultValue,placeholder:t.placeholder},model:{value:e.themeSettings[t.name],callback:function(n){e.$set(e.themeSettings,t.name,n)},expression:"themeSettings[item.name]"}})],1)})),1)],1)})),1)],1):e._e(),e.themeConfigurations.length<=0&&!e.settingLoading?n("a-empty",{attrs:{description:"当前主题暂无设置选项"}}):e._e()],1)],1),e.viewMode?n("a-col",{staticStyle:{"padding-bottom":"50px"},attrs:{lg:20,md:20,sm:24,xl:20,xs:24}},[n("a-card",{attrs:{bodyStyle:{padding:0},bordered:!0}},[n("iframe",{attrs:{id:"themeViewIframe",height:e.clientHeight-165,src:e.options.blog_url,border:"0",frameborder:"0",scrolling:"auto",title:"主题预览",width:"100%"}})])],1):e._e()],1),n("AttachmentSelectDrawer",{attrs:{title:"选择附件"},on:{listenToSelect:e.handleSelectAttachment},model:{value:e.attachmentDrawerVisible,callback:function(t){e.attachmentDrawerVisible=t},expression:"attachmentDrawerVisible"}}),e.themeConfigurations.length>0?n("footer-tool-bar",{staticClass:"w-full"},[n("a-space",[!this.isMobile()&&e.theme.activated&&e.viewMode?n("a-button",{attrs:{ghost:"",type:"primary"},on:{click:e.toggleViewMode}},[e._v("普通模式 ")]):this.isMobile()||!e.theme.activated||e.viewMode?e._e():n("a-button",{attrs:{type:"dashed"},on:{click:e.toggleViewMode}},[e._v("预览模式 ")]),n("ReactiveButton",{attrs:{errored:e.saveErrored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){e.saveErrored=!1},click:e.handleSaveSettings}})],1)],1):e._e()],1)}),l=[],s=(n("0d1f"),n("f830"),n("ae8f"),n("dd51"),n("9d84")),o=n("9a0b"),c=n("1a86"),u=n("bbf5"),d=n("5a70");
/**
    * Verte v0.0.12
    * (c) 2019 Baianat
    * @license MIT
    */
/**
  * color-fns v0.0.10
  * (c) 2019 Baianat
  * @license MIT
  */
function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?y(e):t}function x(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=g(e),null===e)break;return e}function S(e,t,n){return S="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=x(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},S(e,t,n||e)}function w(e){return"object"===h(e)&&e.model?e.model:("#"!==e.slice(0,1)||4!==e.length&&7!==e.length)&&("#"!==e.slice(0,1)||6!==e.length&&9!==e.length)?"RGBA"===e.slice(0,4).toUpperCase()||"RGB"===e.slice(0,3).toUpperCase()?"rgb":("HSLA"===e.slice(0,4).toUpperCase()||"HSL"===e.slice(0,3).toUpperCase())&&"hsl":"hex"}function _(e){return isNaN(parseInt(e,16))?0:parseInt(e,16)}function M(e,t){return function(n){return n>=e&&n<=t}}function k(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return Number((e*(1-n)+t*n).toFixed(2))}function T(e){return!(void 0===e||isNaN(e)||e<0||e>1)}var E=function(){function e(t){var n=this;m(this,e),this.invalid=!this.validate(t),this.invalid||Object.keys(t).forEach((function(e){n[e]=t[e]})),this.init()}return f(e,[{key:"init",value:function(){}},{key:"validate",value:function(e){return!!e&&"object"===h(e)}}]),e}(),D=function(e){function t(){return m(this,t),C(this,g(t).apply(this,arguments))}return v(t,e),f(t,[{key:"validate",value:function(e){if(!S(g(t.prototype),"validate",this).call(this,e))return!1;var n=M(0,255);return n(e.red)&&n(e.green)&&n(e.blue)}},{key:"init",value:function(){this.model="rgb",this.alpha=T(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":M(0,.999)(this.alpha)?"rgba(".concat(this.red,",").concat(this.green,",").concat(this.blue,",").concat(this.alpha,")"):"rgb(".concat(this.red,",").concat(this.green,",").concat(this.blue,")")}}]),t}(E),V=function(e){function t(){return m(this,t),C(this,g(t).apply(this,arguments))}return v(t,e),f(t,[{key:"validate",value:function(e){if(!S(g(t.prototype),"validate",this).call(this,e))return!1;var n=M(0,100);return M(0,360)(e.hue)&&n(e.lum)&&n(e.sat)}},{key:"init",value:function(){this.model="hsl",this.alpha=T(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":M(0,.999)(this.alpha)?"hsla(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%,").concat(this.alpha,")"):"hsl(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%)")}}]),t}(E),$=function(e){function t(){return m(this,t),C(this,g(t).apply(this,arguments))}return v(t,e),f(t,[{key:"validate",value:function(e){return!!S(g(t.prototype),"validate",this).call(this,e)&&/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#".concat(e.red).concat(e.green).concat(e.blue))}},{key:"init",value:function(){this.model="hex",this.alpha=void 0!==this.alpha?this.alpha:"ff"}},{key:"toString",value:function(){return this.invalid?"Invalid Color":M(0,.999)(_(this.alpha)/255)?"#".concat(this.red).concat(this.green).concat(this.blue).concat(this.alpha):"#".concat(this.red).concat(this.green).concat(this.blue)}}]),t}(E),O=Object.freeze({Color:E,RgbColor:D,HslColor:V,HexColor:$});function R(e){if("object"===h(e))return e;var t=e.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!t||t.length<4?new D:new D({red:Number(t[1]),green:Number(t[2]),blue:Number(t[3]),alpha:Number(t[4])})}function H(e){var t=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i;return 5!==e.length&&4!==e.length||!t.test(e)||(e=e.replace(t,(function(e,t,n,i,a){return"#".concat(t).concat(t).concat(n).concat(n).concat(i).concat(i).concat(a?"".concat(a).concat(a):"")}))),e}function P(e){if("object"===h(e))return e;var t=H(e),n=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})*/i);return!n||n.length<4?new $:new $({hex:t,red:n[1],green:n[2],blue:n[3],alpha:n[4]})}function A(e){if("object"===h(e))return e;var t=e.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!t||t.length<4?new V:new V({hue:Number(t[1]),sat:Number(t[2]),lum:Number(t[3]),alpha:Number(t[4])})}function F(e){var t=w(e);return"rgb"===t?!R(e).invalid:"hex"===t?!P(e).invalid:"hsl"===t&&!A(e).invalid}function N(e){return e=Math.floor(e),isNaN(e)?"00":("0"+e.toString(16)).slice(-2)}function j(e){if(!e)return new $;e=R(e);var t=[N(e.red),N(e.green),N(e.blue),e.alpha?N(255*e.alpha):null],n=t[0],i=t[1],a=t[2],r=t[3];return new $({red:n,green:i,blue:a,alpha:r||"ff"})}function I(e){if(!e)return new V;e=R(e);var t=[e.red/255,e.green/255,e.blue/255,e.alpha],n=t[0],i=t[1],a=t[2],r=t[3],l=0,s=0,o=0,c=Math.min(n,i,a),u=Math.max(n,i,a);return o=(c+u)/2,c!==u&&(s=o>.5?(u-c)/(2-u-c):(u-c)/(u+c)),n>=u&&c!==u&&(l=(i-a)/(u-c)*60),i>=u&&c!==u&&(l=60*(2+(a-n)/(u-c))),a>=u&&c!==u&&(l=60*(4+(n-i)/(u-c))),l=l<0?Math.floor(l+360):Math.floor(l),s=Math.floor(100*s),o=Math.floor(100*o),new V({hue:l,sat:s,lum:o,alpha:r})}function B(e){if(!e)return new D;var t=P(e),n=t.red,i=t.green,a=t.blue,r=t.alpha;return new D({red:_(n),green:_(i),blue:_(a),alpha:void 0===r?1:Number((_(r)/255).toFixed(2))})}function U(e){return Math.min(Math.max(parseInt(e),0),255)}function q(e){if(!e)return new D;e=A(e);var t=[e.hue/360,e.sat/100,e.lum/100,e.alpha],n=t[0],i=t[1],a=t[2],r=t[3],l=0,s=0,o=0;if(0===i&&(l=s=o=U(255*a)),0!==i){var c=a>=50?a+i-a*i:a*(1+i),u=2*a-c,d=function(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?u+6*(c-u)*e:e<.5?c:e<2/3?u+(c-u)*(2/3-e)*6:u};l=U(255*d(n+1/3)),s=U(255*d(n)),o=U(255*d(n-1/3))}return new D({red:l,green:s,blue:o,alpha:r})}function z(e){return e?I(B(e)):new V}function W(e){return e?j(q(e)):new $}function G(e){var t=w(e);return"hex"===t?B(e):"hsl"===t?q(e):"rgb"===t&&"string"===typeof e?R(e):"rgb"===t&&"object"===h(e)?e:new D}function X(e){var t=w(e);return"hex"===t?z(e):"rgb"===t?I(e):"hsl"===t&&"string"===typeof e?A(e):"hsl"===t&&"object"===h(e)?e:new V}function Z(e){var t=w(e);return"rgb"===t?j(e):"hsl"===t?W(e):"hex"===t&&"string"===typeof e?P(e):"hex"===t&&"object"===h(e)?e:new $}function J(){return"rgb(".concat(k(0,255),", ").concat(k(0,255),", ").concat(k(0,255),")")}function Y(e,t,n){e=G(e),t=G(t);var i=Math.floor(L(e.red,t.red,n)),a=Math.floor(L(e.green,t.green,n)),r=Math.floor(L(e.blue,t.blue,n)),l=L(e.alpha,t.alpha,n);return new D({red:i,green:a,blue:r,alpha:l})}function K(e,t){for(var n=[],i=0;i<e;i++){var a="function"===typeof t?t():t;n.push(a)}return n}function Q(e,t){var n;return void 0===t&&(t=!1),function(){var i=arguments,a=function(){n=null,t||e.apply(void 0,i)},r=t&&!n;window.cancelAnimationFrame(n),n=window.requestAnimationFrame(a),r&&e.apply(void 0,arguments)}}function ee(e,t){while(e!==document&&null!==e){if(e===t)return!0;e=e.parentNode}return!1}function te(e,t){return e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}))}function ne(e,t){return{r:Math.sqrt(e*e+t*t),theta:180*Math.atan2(t,e)/Math.PI}}function ie(e,t){return{x:e*Math.cos(t*Math.PI*2),y:e*Math.sin(t*Math.PI*2)}}function ae(e,t){return function(e){var n=-1!==t.indexOf(e);return n}}function re(e){if(e.type.match(/^touch/i)){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}return e.type.match(/^mouse/i)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}var le={name:"VerteSlider",props:{gradient:Array,classes:Array,colorCode:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},label:{type:Boolean,default:!1},trackSlide:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:function(){return[0]}}},data:function(){return{fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}},watch:{gradient:function(e){this.initGradient(e),this.reloadHandlesColor()},values:function(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value:function(e,t){e!==t&&e!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init:function(){var e=this;this.$emitInputEvent=Q((function(){e.$emit("input",e.currentValue)})),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map((function(e,t){return{value:e,position:0,color:"#fff"}})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((function(t,n){e.activeHandle=n,e.updateValue(t,!0)}))},initElements:function(){var e;this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.wrapper.classList.toggle("slider--editable",this.editable),this.wrapper.classList.toggle("slider--reverse",this.reverse),this.classes&&(e=this.wrapper.classList).add.apply(e,this.classes)},initGradient:function(e){e.length>1?this.fill.style.backgroundImage="linear-gradient(90deg, "+e+")":(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=e[0],this.handles.forEach((function(t){t.style.color=e[0]})))},handleResize:function(){this.updateWidth(),this.updateValue(this.currentValue,!0)},initEvents:function(){window.addEventListener("resize",this.handleResize)},select:function(e){if(e.preventDefault(),e.stopPropagation(),2!==e.buttons){this.updateWidth(),this.track.classList.add("slider--dragging"),this.ticking=!1;var t=this.getStepValue(e);if(this.multiple){var n=te(this.values,t);this.activeHandle=this.values.indexOf(n)}this.updateValue(t),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)}},dragging:function(e){var t=this,n=this.getStepValue(e);this.ticking||(window.requestAnimationFrame((function(){t.updateValue(n),t.ticking=!1})),this.ticking=!0)},release:function(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease)},getStepValue:function(e){var t=re(e),n=t.x,i=n-this.currentX,a=parseInt(i/this.stepWidth+.5,10),r=a*this.step+this.min;return this.decimalsCount?Number(r.toFixed(this.decimalsCount)):r},updateWidth:function(){var e=this.track.getBoundingClientRect();this.currentX=e.left,this.width=e.width,this.stepWidth=this.width/(this.max-this.min)*this.step},getPositionPercentage:function(e){return((e-this.min)/(this.max-this.min)).toFixed(2)},normalizeValue:function(e){if(isNaN(Number(e)))return this.value;if(this.multiple){var t=this.values[this.activeHandle-1]||this.min,n=this.values[this.activeHandle+1]||this.max;e=Math.min(Math.max(Number(e),t),n)}return Math.min(Math.max(Number(e),this.min),this.max)},addHandle:function(e){var t=te(this.values,e),n=this.values.indexOf(t),i=this.values[n],a=i<=e?n+1:n;this.handles.splice(a,0,{value:e,position:0,color:"#fff"}),this.values.splice(a,0,e),this.activeHandle=a,this.currentValue=null,this.updateValue(e)},removeHandle:function(e){this.handles.splice(e,1),this.values.splice(e,1),this.activeHandle=0===e?e+1:e-1},getHandleColor:function(e){for(var t=this,n=this.gradient.length-1,i=e,a=1;a<=n;a++)if(i>=(a-1)/n&&i<=a/n){var r=(i-(a-1)/n)/(1/n);return Y(t.gradient[a-1],t.gradient[a],r)}return"rgb(0, 0, 0)"},reloadHandlesColor:function(){var e=this;this.handles.forEach((function(t,n){var i=e.getPositionPercentage(t.value),a=e.getHandleColor(i);e.handles[n].color=a.toString()}))},updateValue:function(e,t){var n=this;void 0===t&&(t=!1),window.requestAnimationFrame((function(){var i=n.normalizeValue(e),a=n.getPositionPercentage(i);if(n.fill&&(n.fill.translate=a*n.width,n.fill.scale=1-a),n.values[n.activeHandle]=i,n.handles[n.activeHandle].value=i,n.handles[n.activeHandle].position=a*n.width,n.currentValue=i,n.$refs.input.value=n.currentValue,n.gradient){var r=n.getHandleColor(a);n.handles[n.activeHandle].color=r.toString(),n.colorCode&&(n.currentValue=r)}t||n.$emitInputEvent()}))}},created:function(){var e=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=e?e.length:0},mounted:function(){var e=this;this.init(),this.$nextTick((function(){e.updateWidth(),e.updateValue(void 0,!0)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},se=le,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"slider"},[n("div",e._g({ref:"track",staticClass:"slider__track"},e.trackSlide?{mousedown:e.select,touchstart:e.select}:{}),[n("div",{ref:"fill",staticClass:"slider__fill"}),e._l(e.handles,(function(t){return n("div",{staticClass:"slider__handle",style:"transform: translate("+t.position+"px, 0); background-color: "+t.color+";",on:{mousedown:e.select,touchstart:e.select}},[e.label?n("div",{staticClass:"slider__label"},[e._v(e._s(t.value))]):e._e()])}))],2),n("input",{directives:[{name:"show",rawName:"v-show",value:e.editable,expression:"editable"}],ref:"input",staticClass:"slider__input",attrs:{type:e.colorCode?"text":"number"},on:{change:function(t){e.updateValue(t.target.value)}}})])},ce=[];oe._withStripped=!0;var ue=void 0,de=void 0,he=void 0,me=!1;function pe(e,t,n,i,a,r,l,s){var o=("function"===typeof n?n.options:n)||{};return o.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Slider.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,a&&(o.functional=!0)),o._scopeId=i,o}function fe(){var e=document.head||document.getElementsByTagName("head")[0],t=fe.styles||(fe.styles={}),n="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,a){if(!document.querySelector('style[data-vue-ssr-id~="'+i+'"]')){var r=n?a.media||"default":i,l=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!l.ids.includes(i)){var s=a.source,o=l.ids.length;if(l.ids.push(i),n&&(l.element=l.element||document.querySelector("style[data-group="+r+"]")),!l.element){var c=l.element=document.createElement("style");c.type="text/css",a.media&&c.setAttribute("media",a.media),n&&(c.setAttribute("data-group",r),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(n&&(o=parseInt(l.element.getAttribute("data-next-index")),l.element.setAttribute("data-next-index",o+1)),l.element.styleSheet)l.parts.push(s),l.element.styleSheet.cssText=l.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(s),d=l.element.childNodes;d[o]&&l.element.removeChild(d[o]),d.length?l.element.insertBefore(u,d[o]):l.element.appendChild(u)}}}}}var ve=pe({render:oe,staticRenderFns:ce},ue,se,de,me,he,fe,void 0),ge={name:"VertePicker",components:{Slider:ve},props:{mode:{type:String,default:"square"},edge:{type:Number,default:250},diameter:{type:Number,default:180},satSlider:{type:Boolean,default:!0},alpha:{type:Number,default:1},value:{type:String,default:"#fff"}},data:function(){return{currentHue:0,currentSat:0,currentColor:"",cursor:{},preventUpdating:!1,preventEcho:!1}},watch:{value:function(e){this.preventUpdating?this.preventUpdating=!1:this.handleValue(e,!0)},currentSat:function(){this.updateWheelColors(),this.updateColor()},currentHue:function(){this.updateSquareColors(),this.updateColor()}},methods:{initSquare:function(){var e=this.edge;this.$refs.canvas.width=e,this.$refs.canvas.height=e-100,this.ctx=this.$refs.canvas.getContext("2d"),this.updateSquareColors()},initWheel:function(){this.$refs.canvas.width=this.diameter,this.$refs.canvas.height=this.diameter,this.ctx=this.$refs.canvas.getContext("2d"),this.circle={path:new Path2D,xCords:this.diameter/2,yCords:this.diameter/2,radius:this.diameter/2},this.circle.path.moveTo(this.circle.xCords,this.circle.yCords),this.circle.path.arc(this.circle.xCords,this.circle.yCords,this.circle.radius,0,360),this.circle.path.closePath(),this.updateWheelColors()},handleValue:function(e,t){void 0===t&&(t=!1);var n=this.pickerRect,i=n.width,a=n.height;if(this.currentColor=X(e),this.preventEcho=!0,"wheel"===this.mode){var r=(100-this.currentColor.lum)*(this.diameter/200),l=this.diameter/2,s=ie(r,this.currentColor.hue/360);this.cursor={x:s.x+l,y:s.y+l},this.currentSat=this.currentColor.sat}if("square"===this.mode){var o=this.currentColor.sat/100*i,c=(100-this.currentColor.lum)/100*a;this.cursor={x:o,y:c},this.currentHue=this.currentColor.hue}},updateCursorPosition:function(e){var t=e.x,n=e.y,i=this.pickerRect,a=i.left,r=i.top,l=i.width,s=i.height,o={x:Math.min(Math.max(t-a,0),l),y:Math.min(Math.max(n-r,0),s)};("wheel"!==this.mode||this.ctx.isPointInPath(this.circle.path,o.x,o.y))&&(this.cursor=o,this.updateColor())},updateColor:function(e){void 0===e&&(e=!1),this.preventEcho?this.preventEcho=!1:(this.currentColor=this.getCanvasColor(),this.preventUpdating=!0,this.$emit("change",this.currentColor),this.$emit("input",this.currentColor))},updateWheelColors:function(){var e=this;if(this.circle){var t=this.pickerRect,n=t.width,i=t.height,a=this.circle.xCords,r=this.circle.yCords,l=this.circle.radius,s=this.satSlider?this.currentSat:100;this.ctx.clearRect(0,0,n,i);for(var o=0;o<360;o+=1){var c=e.ctx.createRadialGradient(a,r,0,a,r,l),u=(o-2)*Math.PI/180,d=(o+2)*Math.PI/180;e.ctx.beginPath(),e.ctx.moveTo(a,r),e.ctx.arc(a,r,l,u,d),e.ctx.closePath(),c.addColorStop(0,"hsl("+o+", "+s+"%, 100%)"),c.addColorStop(.5,"hsl("+o+", "+s+"%, 50%)"),c.addColorStop(1,"hsl("+o+", "+s+"%, 0%)"),e.ctx.fillStyle=c,e.ctx.fill()}}},updateSquareColors:function(){var e=this.pickerRect,t=e.width,n=e.height;this.ctx.clearRect(0,0,t,n),this.ctx.fillStyle="hsl("+this.currentHue+", 100%, 50%)",this.ctx.fillRect(0,0,t,n);var i=this.ctx.createLinearGradient(0,0,t,0);i.addColorStop(0,"hsl(0, 0%, 50%)"),i.addColorStop(1,"hsla(0, 0%, 50%, 0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,t,n);var a=this.ctx.createLinearGradient(0,0,0,n);a.addColorStop(0,"hsl(0, 0%, 100%)"),a.addColorStop(.5,"hsla(0, 0%, 100%, 0)"),a.addColorStop(.5,"hsla(0, 0%, 0%, 0)"),a.addColorStop(1,"hsl(0, 0%, 0%) "),this.ctx.fillStyle=a,this.ctx.fillRect(0,0,t,n)},getCanvasColor:function(){var e=this.cursor,t=e.x,n=e.y,i=0,a=0,r=0;if("wheel"===this.mode){var l=this.diameter/2,s=t-l,o=-1*(n-l),c=ne(s,o),u=c.r,d=c.theta;a=100*(l-u)/l,r=~Math.sign(d)?360-d:-d,i=this.currentSat}if("square"===this.mode){var h=this.pickerRect,m=h.width,p=h.height;i=100*t/m,a=100-100*n/p,r=this.currentHue}return new O.HslColor({alpha:this.alpha,hue:Math.round(r),sat:Math.round(i),lum:Math.round(a)})},handleSelect:function(e){var t=this;e.preventDefault(),this.pickerRect=this.$refs.canvas.getBoundingClientRect(),this.updateCursorPosition(re(e));var n=function(e){window.requestAnimationFrame((function(){t.updateCursorPosition(re(e))}))},i=function(){document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i)};document.addEventListener("mousemove",n),document.addEventListener("touchmove",n),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}},mounted:function(){var e=this;this.pickerRect=this.$refs.canvas.getBoundingClientRect(),"wheel"===this.mode&&this.initWheel(),"square"===this.mode&&this.initSquare(),this.$nextTick((function(){e.handleValue(e.value)}))}},be=ge,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"picker",staticClass:"verte-picker",class:"verte-picker--"+e.mode},[n("div",{ref:"origin",staticClass:"verte-picker__origin"},[n("canvas",{ref:"canvas",staticClass:"verte-picker__canvas",on:{mousedown:e.handleSelect,touchstart:e.handleSelect}}),n("div",{ref:"cursor",staticClass:"verte-picker__cursor",style:"transform: translate3d("+e.cursor.x+"px, "+e.cursor.y+"px, 0)"})]),"square"===e.mode?n("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],editable:!1,max:360},model:{value:e.currentHue,callback:function(t){e.currentHue=t},expression:"currentHue"}}):e._e(),"wheel"===e.mode?n("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["hsl("+e.currentColor.hue+",0%,"+e.currentColor.lum+"%)","hsl("+e.currentColor.hue+",100%,"+e.currentColor.lum+"%)"],editable:!1,max:100},model:{value:e.currentSat,callback:function(t){e.currentSat=t},expression:"currentSat"}}):e._e()],1)},Ce=[];ye._withStripped=!0;var xe=void 0,Se=void 0,we=void 0,_e=!1;function Me(e,t,n,i,a,r,l,s){var o=("function"===typeof n?n.options:n)||{};return o.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Picker.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,a&&(o.functional=!0)),o._scopeId=i,o}function ke(){var e=document.head||document.getElementsByTagName("head")[0],t=ke.styles||(ke.styles={}),n="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,a){if(!document.querySelector('style[data-vue-ssr-id~="'+i+'"]')){var r=n?a.media||"default":i,l=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!l.ids.includes(i)){var s=a.source,o=l.ids.length;if(l.ids.push(i),n&&(l.element=l.element||document.querySelector("style[data-group="+r+"]")),!l.element){var c=l.element=document.createElement("style");c.type="text/css",a.media&&c.setAttribute("media",a.media),n&&(c.setAttribute("data-group",r),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(n&&(o=parseInt(l.element.getAttribute("data-next-index")),l.element.setAttribute("data-next-index",o+1)),l.element.styleSheet)l.parts.push(s),l.element.styleSheet.cssText=l.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(s),d=l.element.childNodes;d[o]&&l.element.removeChild(d[o]),d.length?l.element.insertBefore(u,d[o]):l.element.appendChild(u)}}}}}var Le,Te,Ee=Me({render:ye,staticRenderFns:Ce},xe,be,Se,_e,we,ke,void 0),De=6;function Ve(e,t){if(Te)return Te;t=t||{};var n=t.recentColors,i=t.onRecentColorsChange;return Le=e,Te=new Le({data:function(){return{recentColors:n||K(6,J)}},methods:{addRecentColor:function(e){this.recentColors.includes(e)||(this.recentColors.length>=De&&this.recentColors.pop(),this.recentColors.unshift(e),i&&i(this.recentColors))}}}),Te}var $e={name:"Verte",components:{Picker:Ee,Slider:ve},props:{picker:{type:String,default:"square",validator:ae("picker",["wheel","square"])},value:{type:String,default:"#000"},model:{type:String,default:"hsl",validator:ae("model",["rgb","hex","hsl"])},display:{type:String,default:"picker",validator:ae("display",["picker","widget"])},menuPosition:{type:String,default:"bottom",validator:ae("menuPosition",["top","bottom","left","right","center"])},showHistory:{type:Boolean,default:!0},colorHistory:{type:Array,default:null},enableAlpha:{type:Boolean,default:!0},rgbSliders:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},data:function(){return{isMenuActive:!0,isLoading:!0,rgb:G("#000"),hex:Z("#000"),hsl:X("#000"),delta:{x:0,y:0},currentModel:"",internalColorHistory:[]}},computed:{$_verteStore:function(){return Ve()},historySource:function(){return this.colorHistory?this.internalColorHistory:this.$_verteStore.recentColors},currentColor:{get:function(){return this[this.model],this[this.model].toString()},set:function(e){this.selectColor(e)}},alpha:{get:function(){return this[this.model]?isNaN(this[this.model].alpha)?1:this[this.model].alpha:1},set:function(e){this[this.model].alpha=e,this.selectColor(this[this.model])}},menuOnly:function(){return"widget"===this.display}},watch:{value:function(e,t){e!==t&&e!==this.currentColor&&this.selectColor(e)},rgb:{handler:function(e){this.hex=Z(e.toString()),this.$emit("input",this.currentColor)},deep:!0},colorHistory:function(e){this.internalColorHistory!==e&&(this.internalColorHistory=[].concat(e))}},beforeCreate:function(){Ve(this.$options._base)},install:function(e,t){Ve(e,t),e.component("Verte",this)},created:function(){this.colorHistory&&(this.internalColorHistory=[].concat(this.colorHistory)),this.selectColor(this.value||"#000",!0),this.currentModel=this.model},mounted:function(){var e=this;this.$nextTick((function(){e.isLoading=!1,e.menuOnly||(e.isMenuActive=!1)}))},methods:{selectColor:function(e,t){void 0===t&&(t=!1),F(e)&&(this.rgb=G(e),this.hex=Z(e),this.hsl=X(e),t||this.$emit("input",this.currentColor))},switchModel:function(){var e=["hex","rgb","hsl"],t=e.indexOf(this.currentModel);this.currentModel=e[t+1]||e[0]},handleMenuDrag:function(e){var t=this;if(2!==e.button){e.preventDefault();var n=Object.assign({},this.delta),i=re(e),a=function(e){window.requestAnimationFrame((function(){var a=re(e);t.delta.x=n.x+a.x-i.x,t.delta.y=n.y+a.y-i.y}))},r=function(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",a),document.removeEventListener("touchup",r)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",r),document.addEventListener("touchmove",a),document.addEventListener("touchup",r)}},submit:function(){this.$emit("beforeSubmit",this.currentColor),this.addColorToHistory(this.currentColor),this.$emit("input",this.currentColor),this.$emit("submit",this.currentColor)},addColorToHistory:function(e){if(this.colorHistory)return this.internalColorHistory.length>=De&&this.internalColorHistory.pop(),this.internalColorHistory.unshift(e),void this.$emit("update:colorHistory",this.internalColorHistory);this.$_verteStore.addRecentColor(this.currentColor)},inputChanged:function(e,t){var n=e.target;if("hex"!==this.currentModel){var i=Math.min(Math.max(n.value,n.min),n.max);this[this.currentModel][t]=i,this.selectColor(this[this.currentModel])}else this.selectColor(n.value)},toggleMenu:function(){this.isMenuActive?this.closeMenu():this.openMenu()},closeMenu:function(){this.isMenuActive=!1,document.removeEventListener("mousedown",this.closeCallback),this.$emit("close",this.currentColor)},openMenu:function(){var e=this;this.isMenuActive=!0,this.closeCallback=function(t){ee(t.target,e.$refs.menu)||ee(t.target,e.$refs.guide)||e.closeMenu()},document.addEventListener("mousedown",this.closeCallback)}}},Oe=$e,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"verte",class:{"verte--loading":e.isLoading}},[e.menuOnly?e._e():n("button",{ref:"guide",staticClass:"verte__guide",style:"color: "+e.currentColor+"; fill: "+e.currentColor+";",attrs:{type:"button"},on:{click:e.toggleMenu}},[e._t("default",[n("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[n("pattern",{attrs:{id:"checkerboard",width:"6",height:"6",patternUnits:"userSpaceOnUse",fill:"FFF"}},[n("rect",{attrs:{fill:"#7080707f",x:"0",width:"3",height:"3",y:"0"}}),n("rect",{attrs:{fill:"#7080707f",x:"3",width:"3",height:"3",y:"3"}})]),n("circle",{attrs:{cx:"12",cy:"12",r:"12",fill:"url(#checkerboard)"}}),n("circle",{attrs:{cx:"12",cy:"12",r:"12"}})])])],2),n("div",{staticClass:"verte__menu-origin",class:["verte__menu-origin--"+e.menuPosition,{"verte__menu-origin--static":e.menuOnly,"verte__menu-origin--active":e.isMenuActive}]},[n("div",{ref:"menu",staticClass:"verte__menu",style:"transform: translate("+e.delta.x+"px, "+e.delta.y+"px)",attrs:{tabindex:"-1"}},[e.menuOnly?e._e():n("button",{staticClass:"verte__close",attrs:{type:"button"},on:{click:e.closeMenu}},[n("svg",{staticClass:"verte__icon verte__icon--small",attrs:{viewBox:"0 0 24 24"}},[n("title",[e._v("Close Icon")]),n("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])]),e.draggable&&!e.menuOnly?n("div",{staticClass:"verte__draggable",on:{mousedown:e.handleMenuDrag,touchstart:e.handleMenuDrag}}):e._e(),n("Picker",{attrs:{mode:e.picker,alpha:e.alpha},model:{value:e.currentColor,callback:function(t){e.currentColor=t},expression:"currentColor"}}),n("div",{staticClass:"verte__controller"},[e.enableAlpha?n("Slider",{attrs:{gradient:["rgba("+e.rgb.red+", "+e.rgb.green+", "+e.rgb.blue+", 0)","rgba("+e.rgb.red+", "+e.rgb.green+", "+e.rgb.blue+", 1)"],min:0,max:1,step:.01,editable:!1},model:{value:e.alpha,callback:function(t){e.alpha=t},expression:"alpha"}}):e._e(),e.rgbSliders?[n("Slider",{attrs:{gradient:["rgb(0,"+e.rgb.green+","+e.rgb.blue+")","rgb(255,"+e.rgb.green+","+e.rgb.blue+")"]},model:{value:e.rgb.red,callback:function(t){e.$set(e.rgb,"red",t)},expression:"rgb.red"}}),n("Slider",{attrs:{gradient:["rgb("+e.rgb.red+",0,"+e.rgb.blue+")","rgb("+e.rgb.red+",255,"+e.rgb.blue+")"]},model:{value:e.rgb.green,callback:function(t){e.$set(e.rgb,"green",t)},expression:"rgb.green"}}),n("Slider",{attrs:{gradient:["rgb("+e.rgb.red+","+e.rgb.green+",0)","rgb("+e.rgb.red+","+e.rgb.green+",255)"]},model:{value:e.rgb.blue,callback:function(t){e.$set(e.rgb,"blue",t)},expression:"rgb.blue"}})]:e._e(),n("div",{staticClass:"verte__inputs"},[n("button",{staticClass:"verte__model",attrs:{type:"button"},on:{click:e.switchModel}},[e._v(e._s(e.currentModel))]),"hsl"===e.currentModel?[n("input",{staticClass:"verte__input",attrs:{type:"number",max:"360",min:"0"},domProps:{value:e.hsl.hue},on:{change:function(t){e.inputChanged(t,"hue")}}}),n("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.hsl.sat},on:{change:function(t){e.inputChanged(t,"sat")}}}),n("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.hsl.lum},on:{change:function(t){e.inputChanged(t,"lum")}}})]:e._e(),"rgb"===e.currentModel?[n("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:e.rgb.red},on:{change:function(t){e.inputChanged(t,"red")}}}),n("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:e.rgb.green},on:{change:function(t){e.inputChanged(t,"green")}}}),n("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:e.rgb.blue},on:{change:function(t){e.inputChanged(t,"blue")}}})]:e._e(),"hex"===e.currentModel?[n("input",{staticClass:"verte__input",attrs:{type:"text"},domProps:{value:e.hex},on:{change:function(t){e.inputChanged(t,"hex")}}})]:e._e(),n("button",{staticClass:"verte__submit",attrs:{type:"button"},on:{click:e.submit}},[n("title",[e._v("Submit Icon")]),n("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])],2),e.showHistory?n("div",{ref:"recent",staticClass:"verte__recent"},e._l(e.historySource,(function(t){return n("a",{staticClass:"verte__recent-color",style:"color: "+t,attrs:{role:"button",href:"#"},on:{click:function(n){n.preventDefault(),e.selectColor(t)}}})}))):e._e()],2)],1)])])},He=[];Re._withStripped=!0;var Pe=void 0,Ae=void 0,Fe=void 0,Ne=!1;function je(e,t,n,i,a,r,l,s){var o=("function"===typeof n?n.options:n)||{};return o.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Verte.vue",o.render||(o.render=e.render,o.staticRenderFns=e.staticRenderFns,o._compiled=!0,a&&(o.functional=!0)),o._scopeId=i,o}function Ie(){var e=document.head||document.getElementsByTagName("head")[0],t=Ie.styles||(Ie.styles={}),n="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(i,a){if(!document.querySelector('style[data-vue-ssr-id~="'+i+'"]')){var r=n?a.media||"default":i,l=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!l.ids.includes(i)){var s=a.source,o=l.ids.length;if(l.ids.push(i),n&&(l.element=l.element||document.querySelector("style[data-group="+r+"]")),!l.element){var c=l.element=document.createElement("style");c.type="text/css",a.media&&c.setAttribute("media",a.media),n&&(c.setAttribute("data-group",r),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(n&&(o=parseInt(l.element.getAttribute("data-next-index")),l.element.setAttribute("data-next-index",o+1)),l.element.styleSheet)l.parts.push(s),l.element.styleSheet.cssText=l.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(s),d=l.element.childNodes;d[o]&&l.element.removeChild(d[o]),d.length?l.element.insertBefore(u,d[o]):l.element.appendChild(u)}}}}}var Be=je({render:Re,staticRenderFns:He},Pe,Oe,Ae,Ne,Fe,Ie,void 0),Ue=Be,qe=(n("7324"),n("3ed1"));function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge={name:"ThemeSetting",mixins:[c["a"],c["b"]],components:{FooterToolBar:d["a"],Verte:Ue},data:function(){return{attachmentDrawerVisible:!1,themeConfigurations:[],themeSettings:[],settingLoading:!0,selectedField:"",wrapperCol:{xl:{span:12},lg:{span:12},sm:{span:24},xs:{span:24}},viewMode:!1,formColValue:12,clientHeight:document.documentElement.clientHeight,saving:!1,saveErrored:!1}},model:{prop:"visible",event:"close"},props:{theme:{type:Object,required:!0,default:function(){}},visible:{type:Boolean,required:!1,default:!1}},computed:We(We({},Object(u["c"])(["options"])),{},{author:function(){return this.theme.author?this.theme.author:{}}}),methods:{handleFetchConfiguration:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.settingLoading=!0,e.next=3,qe["a"].theme.listConfigurations(this.theme.id).then((function(e){t.themeConfigurations=e.data}));case 3:this.handleFetchSettings();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleFetchSettings:function(){var e=this;qe["a"].theme.listSettings(this.theme.id).then((function(t){e.themeSettings=t.data})).finally((function(){e.settingLoading=!1}))},handleSaveSettings:function(){var e=this;this.saving=!0,qe["a"].theme.saveSettings(this.theme.id,this.themeSettings).then((function(){e.viewMode&&document.getElementById("themeViewIframe").contentWindow.location.reload(!0)})).catch((function(){e.saveErrored=!0})).finally((function(){setTimeout((function(){e.saving=!1}),400)}))},onClose:function(){this.$emit("close",!1)},handleShowSelectAttachment:function(e){this.selectedField=e,this.attachmentDrawerVisible=!0},handleSelectAttachment:function(e){this.$set(this.themeSettings,this.selectedField,encodeURI(e.path)),this.attachmentDrawerVisible=!1},handleAfterVisibleChanged:function(e){e?this.handleFetchConfiguration():(this.themeConfigurations=[],this.themeSettings=[],this.settingLoading=!0)},toggleViewMode:function(){this.viewMode=!this.viewMode,this.viewMode?(this.formColValue=4,this.wrapperCol={xl:{span:24},lg:{span:24},sm:{span:24},xs:{span:24}}):(this.formColValue=12,this.wrapperCol={xl:{span:12},lg:{span:12},sm:{span:24},xs:{span:24}})}}},Xe=Ge,Ze=n("838c"),Je=Object(Ze["a"])(Xe,r,l,!1,null,null,null),Ye=Je.exports,Ke=n("680a"),Qe={components:{PageView:Ke["c"],ThemeSettingDrawer:Ye},data:function(){return{list:{loading:!1,data:[]},installModal:{visible:!1,local:{uploadHandler:function(e,t){return qe["a"].theme.upload(e,t)}},remote:{url:null,fetching:!1,fetchErrored:!1,rules:{url:[{required:!0,message:"* 远程地址不能为空",trigger:["change"]}]}}},localUpdateModel:{visible:!1,uploadHandler:function(e,t,n){return qe["a"].theme.updateByUpload(e,t,n)},selected:{}},themeDeleteModal:{visible:!1,deleteSettings:!1,selected:{},deleting:!1,deleteErrored:!1},themeSettingDrawer:{visible:!1,selected:{}}}},computed:{sortedThemes:function(){var e=this.list.data.slice(0);return e.sort((function(e,t){return t.activated-e.activated}))},activatedTheme:function(){return this.sortedThemes.length>0?this.sortedThemes[0]:null}},beforeMount:function(){this.handleListThemes()},destroyed:function(){this.$log.debug("Theme list destroyed."),this.themeSettingDrawer.visible=!1,this.installModal.visible=!1,this.localUpdateModel.visible=!1,this.themeDeleteModal.visible=!1},beforeRouteLeave:function(e,t,n){this.themeSettingDrawer.visible=!1,this.installModal.visible=!1,this.localUpdateModel.visible=!1,this.themeDeleteModal.visible=!1,n()},methods:{handleListThemes:function(){var e=this;this.list.loading=!0,qe["a"].theme.list().then((function(t){e.list.data=t.data})).finally((function(){e.list.loading=!1}))},handleRefreshThemesCache:function(){var e=this;qe["a"].theme.reload().finally((function(){e.handleListThemes()}))},handleActiveTheme:function(e){var t=this;qe["a"].theme.active(e.id).finally((function(){t.handleListThemes()}))},handleDeleteTheme:function(e,t){var n=this;this.themeDeleteModal.deleting=!0,qe["a"].theme.delete(e,t).catch((function(){n.themeDeleteModal.deleteErrored=!1})).finally((function(){setTimeout((function(){n.themeDeleteModal.deleting=!1}),400)}))},handleDeleteThemeCallback:function(){this.themeDeleteModal.deleteErrored?this.themeDeleteModal.deleteErrored=!1:(this.themeDeleteModal.visible=!1,this.handleListThemes())},handleUploadSucceed:function(){this.installModal.visible=!1,this.localUpdateModel.visible=!1,this.handleListThemes()},handleRemoteFetching:function(){var e=this;this.$refs.remoteInstallForm.validate((function(t){t&&(e.installModal.remote.fetching=!0,qe["a"].theme.fetchTheme(e.installModal.remote.url).catch((function(){e.installModal.remote.fetchErrored=!0})).finally((function(){setTimeout((function(){e.installModal.remote.fetching=!1}),400)})))}))},handleRemoteFetchCallback:function(){this.installModal.remote.fetchErrored?this.installModal.remote.fetchErrored=!1:(this.installModal.visible=!1,this.handleListThemes())},handleOpenLocalUpdateModal:function(e){this.localUpdateModel.selected=e,this.localUpdateModel.visible=!0},handleOpenThemeSettingDrawer:function(e){this.themeSettingDrawer.selected=e,this.themeSettingDrawer.visible=!0},handleOpenThemeDeleteModal:function(e){this.themeDeleteModal.visible=!0,this.themeDeleteModal.selected=e},handleConfirmRemoteUpdate:function(e){var t=this;t.$confirm({title:"提示",maskClosable:!0,content:"确定更新【"+e.name+"】主题？",onOk:function(){var n=t.$message.loading("更新中...",0);qe["a"].theme.updateThemeByFetching(e.id).then((function(){t.$message.success("更新成功！")})).finally((function(){n(),t.handleListThemes()}))}})},onThemeInstallModalClose:function(){this.$refs.upload&&this.$refs.upload.handleClearFileList(),this.$refs.updateByFile&&this.$refs.updateByFile.handleClearFileList(),this.installModal.remote.url=null,this.handleListThemes()},onThemeSettingsDrawerClose:function(){this.themeSettingDrawer.visible=!1,this.themeSettingDrawer.selected={}},onThemeDeleteModalClose:function(){this.themeDeleteModal.visible=!1,this.themeDeleteModal.deleteSettings=!1,this.themeDeleteModal.selected={}}}},et=Qe,tt=Object(Ze["a"])(et,i,a,!1,null,null,null);t["default"]=tt.exports}}]);